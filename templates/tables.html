<div class="container">
    <div class="row">
        <div class="col-8 mx-auto mt-5">
            <h3 class='md-5'>Cryptocurrencies</h3>
            <br>
            
{% verbatim %}

<div id="app">
    <table class='table table-hover'>

        <thead>
            <tr>
                <th scope='col'>Rank</th>
                <th scope='col'>Name</th>
                <th scope='col'>Price</th>
            </tr>
        </thead>
        
        <tbody>
            {% include 'coins.html' %}
        </tbody>

    </table>

</div>

{% endverbatim %}
            
        </div>
    </div>
</div>

<script>

    const { createApp } = Vue;
    const CoinsApp = {
        data(){
            return {
                coin: 'hi',
                coins: null,
            }
        },
        created(){
            const socket = new WebSocket(`ws.//${window.location.host}/ws/coins/`)

            let _this = this;
            socket.onmessage = ((event) => {
                _this.coins = JSON.parse(even.data);
                console.lof(_this.coins);
            })
        }
    }
    createApp(CoinsApp).mount("#app")

</script>